---
layout: "post"
title: "神经网络【拓扑排序、DFS】"
desc: "神经网络【拓扑排序、DFS】"
date: 2016-09-04
keywords: "C++,Noip,DFS,Topological"
tags: [C++,Noip,DFS,Topological]
categories: [Database]
---

## NOIP2003 神经网络

### 描述

神经网络就是一张**有向图**，图中的**节点**称为**神经元**，*而且两个神经元之间至多有一条边相连*，下面是一个例子：  
![alt text](/../static/img/blog/NerveNet/0.png)  
图中，X<sub>1</sub>,X<sub>2</sub>,X<sub>3</sub>为*信息输入渠道*，Y<sub>1</sub>,Y<sub>2</sub>是*信息输出渠道*，C<sub>i</sub>表示*神经元目前状态*，U<sub>i</sub>是*阈值*，可视为神经元的一个内在参数。。  
*神经元按一定的顺序排列可构成整个神经网络*，神经网络模型中，分为输入层，输出层，若干中间层，*每层神经元只能向下一层的神经元输出信息，只能从上一层接受信息*，下图是一个三层神经网络模型：  
![alt text](/../static/img/blog/NerveNet/1.png)  
**规定：C<sub>i</sub>满足公式：**  
![alt](/../static/img/blog/NerveNet/2.png)

* n为神经网络中所有神经元数  
* W<sub>ji</sub>(可能是负值)表示连接j号神经元和i号神经元的边的权值。**当C<sub>i</sub>大于0时，该神经元处于兴奋状态，否则就处于平静状态。当神经元处于兴奋状态时，下一秒它会向其他神经元传送信号，信号强度为C<sub>i</sub>**  

如上，当输入层神经元被激发之后，整个网络系统就在信息传输的机制下进行运作。  
现在给一个神经网络及当前输入层神经元状态，要求输出最后网络输出层的状态。  

### 格式

* 输入格式

输入第一行两个整数n(1 <= n <= 200)和p，接下来n行，每行两个整数，第 i + 1 行是神经元 i 最初状态和阈值，非输入层的神经元开始状态必然为0。再下面 p 行，每行两个整数i，j及整数W<sub>ji</sub>。  

* 输出格式

输出包含若干行，每行两个整数，分别对应一个神经元的编号及其最后的状态，两个整数间以空格分隔。仅输出最后状态非零的输出层神经元状态，并且按照编号由小到大顺序输出！  
若输出层的神经元最后状态均为 0，则输出 NULL。  

### 样例

* 输入

5 6  
1 0  
1 0  
0 1  
0 1  
0 1  
1 3 1  
1 4 1  
1 5 1  
2 3 1  
2 4 1  
2 5 1  

* 输出

3 1  
4 1  
5 1  

## 分析及代码
