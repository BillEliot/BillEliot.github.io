---
layout: blog
title: Blog
permalink: /blog/
---

<script type="text/javascript" src="http://upcdn.b0.upaiyun.com/libs/jquery/jquery-2.0.2.min.js"></script>

<div class="row" style="background-image:url('/../static/img/landing/BackGround_Geek.jpg');">
    <div class="col-lg-12 text-center">
        <div class="navy-line"></div>
        <h1>Latest Blog</h1>
    </div>
</div>

<div class="row" style="background-image:url('/../static/img/landing/BackGround_Geek.jpg');">
    <div class="col-lg-8 col-lg-offset-2">
        <div class="wrapper wrapper-content animated fadeInRight" style="background-image:url('/../static/img/landing/BackGround_Geek.jpg');">

            <!-- latest 10 blog -->
			{% for post in site.posts limit:10 %}
            <div class="vote-item" dataid="{{ post.title }}">
                <div class="row">
                    <div class="col-md-10">
                        <div class="vote-actions">
                        </div>
                        <a href="{{ post.url }}" class="vote-title">
                            {{ post.title }}
                        </a>
                        
                        <div class="vote-info">
	                        <i class="fa fa-clock-o"></i> <a>{{ post.date | date: "%-d %b %Y" }}</a>
	                        <i class="fa fa-user"></i> <a>{{ site.author.name }}</a>
	                        <i class="fa fa-clock-o"></i> <a id="{{ post.title }}"></a>
                        </div>
                    </div>
                    <div class="col-md-2 ">
                        <div class="vote-icon">
                            {% if post.icon %}<i class="fa {{ post.icon }}"> </i>{% endif %}
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}

        </div>
    </div>
</div>
<script type="text/javascript">
	function duoshuoCountCallBack(data){
	    if(data.code == 0) {
	        //这里的数据结构跟官方文档给出的不太一样，以实际的为准
	        var comments = data.response;
	        for(var item in comments) {
	        	var id = item;
	        	var comnts = comments[item].comments;
	        	$("#" + id).text(comnts + " 条评论");
	        }
	    }
	}
	
	$(function(){
		var items = $(".vote-item");
		var threadKeys = [];
		for(var i=0; i<items.length; i++) {
			var key = $(items[i]).attr("dataid");
			threadKeys.push(key);
		}
		//请求文章评论数的多说URL
		var countUrl = 'http://api.duoshuo.com/threads/counts.jsonp?short_name=eliot&threads=' + threadKeys.join(",");
		$("head").append("<script type='text\/javascript' src='"+countUrl+"&callback=duoshuoCountCallBack'><\/script>");
	});
	
</script>
